@model ProjectManage.Models.ProjectParticipant

@{
    ViewData["Title"] = "ProjeX";
    var nickname = ViewBag.Nickname;
    var password = ViewBag.Password;
}

<link rel="stylesheet" href="~/css/Profile.css" asp-append-version="true" />
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

<header>
    <a class="logo" asp-controller="Participant" asp-action="ExistingProjects" asp-route-nickname="@nickname" asp-route-password="@password">ProjeX</a>
    <nav class="menu">
        <p><i class="fas fa-envelope"></i></p>
        <a href="#">@nickname</a>
    </nav>
</header>

<div class="header-with-line">
    <div class="line"></div>
</div>

<div class="customization">
    <p class="nickname">@nickname</p>
    <p class="edit">
        <i class="fas fa-edit"></i>
    </p>
</div>

<div class="main-with-line">
    <div class="line"></div>
</div>

<div class="container-wrapper">
    <form method="post" asp-controller="Participant" asp-action="Messages">
        <input type="hidden" name="nickname" value="@ViewBag.nickname" />
        <input type="hidden" name="password" value="@ViewBag.password" />

        <div class="messages-container">
            <div class="name-of-container">
                <p>Your messages:</p>
            </div>
            <div class="messages">
                @if (ViewBag.Messages != null)
                {
                    foreach (var message in ViewBag.Messages)
                    {
                        <a class="message-card" asp-controller="Participant" asp-action="Messages" asp-route-nickname="@nickname">
                            @message
                        </a>
                    }
                }
            </div>
        </div>
    </form>
</div>

@section Scripts {
    <script>
        document.addEventListener('scroll', function () {
            const header = document.querySelector('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });
    </script>
}